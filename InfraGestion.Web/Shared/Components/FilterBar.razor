@*
    FilterBar Component
    Componente contenedor para barra de búsqueda y filtros
*@

<div class="filters-container">
    @if (SearchBox != null)
    {
        @SearchBox
    }

    <div class="filter-group">
        @if (Filters != null)
        {
            @Filters
        }

        @if (ShowExportButton)
        {
            <button class="btn-export" @onclick="OnExport">
                <svg class="btn-icon" viewBox="0 0 256 256" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path d="M74.34,85.66A8,8,0,0,1,85.66,74.34L120,108.69V24a8,8,0,0,1,16,0v84.69l34.34-34.35a8,8,0,0,1,11.32,11.32l-48,48a8,8,0,0,1-11.32,0ZM240,136v64a16,16,0,0,1-16,16H32a16,16,0,0,1-16-16V136a16,16,0,0,1,16-16H84.4a4,4,0,0,1,2.83,1.17L111,145A24,24,0,0,0,145,145l23.8-23.8A4,4,0,0,1,171.6,120H224A16,16,0,0,1,240,136Zm-40,32a12,12,0,1,0-12,12A12,12,0,0,0,200,168Z" />
                </svg>
                @ExportButtonText
            </button>
        }
    </div>
</div>

@code {
    /// <summary>
    /// Slot para el componente de búsqueda
    /// </summary>
    [Parameter]
    public RenderFragment? SearchBox { get; set; }

    /// <summary>
    /// Slot para los filtros (selects, etc.)
    /// </summary>
    [Parameter]
    public RenderFragment? Filters { get; set; }

    /// <summary>
    /// Mostrar botón de exportar
    /// </summary>
    [Parameter]
    public bool ShowExportButton { get; set; } = true;

    /// <summary>
    /// Texto del botón de exportar
    /// </summary>
    [Parameter]
    public string ExportButtonText { get; set; } = "Exportar";

    /// <summary>
    /// Callback cuando se hace clic en exportar
    /// </summary>
    [Parameter]
    public EventCallback OnExport { get; set; }
}
